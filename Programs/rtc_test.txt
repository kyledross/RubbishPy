' Real-time clock test
' Pre-requisites:
' Compiler at address 0
' Processor
' RTC at 1024

' Usage:
' python3 main.py --compiler address=0 size=1024 --rtc address=1024 interrupt=7 program=../Programs/rtc_test.txt --processor --ram address=1025 size=32
'

siv 7 clock_tick
main: sleep
jmp main

clock_tick:
lrm 1 1024
debug


# memory map
# 1025 year
# 1026 month
# 1027 day
# 1028 hour
# 1029 minute
# 1030 second
# 1031 seconds remaining temporary
# 1032 days since epoch temporary


# phase 1... get days since epoch
lr 2 86400
div
debug
# remainder is remaining seconds, and will be used later. store that in memory for now.
mrm 4 1031
# the number of days since epoch is in register 3
# save that in memory for use later
mrm 3 1032

# phase 2... get approximate year
lrr 1 3
lr 2 365
div
debug
# register 3 contains the approximate year offset since 1970
# add 1970 to get the approximate year
lrr 1 3
lr 2 1970
add
# register 3 contains the approximate year

# todo: continue implementing code to parse value into date and times
